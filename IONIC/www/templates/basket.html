<ion-view view-title="Shopping Basket">
  <ion-content>
    <div ng-show="basketService.basketProducts.length == 0" class="card">
      <div class="item item-text-wrap">
        Your shopping basket is empty
      </div>
    </div>

    <div ng-show="basketService.basketProducts.length > 0">
      <ion-list>
        <ion-item ng-repeat="product in basketService.basketProducts" class="item-button-right">
          {{product.item.name}}
          <br/>
          Qty: {{product.quantity}}

          <span class="item-note">
            {{product.item.price * product.quantity | currency:"£"}}
          </span>

          <button class="button button-assertive" ng-click="removeItem(product)">
            <i class="icon ion-close-round"></i>
          </button>

        </ion-item>
      </ion-list>

      <h4 class="text-center">
        Total: {{getTotal() | currency:"£"}}
      </h4>

      <div ng-show="!authService.isLoggedIn()">
        <a class="button button-full button-stable" href="#/app/login">
          Log in
        </a>
        <a class="button button-full button-stable" href="#/app/register">
          Register
        </a>
      </div>
      <div ng-show="authService.isLoggedIn()">
        <a class="button button-full button-positive" href="#/app/checkout">
          Checkout
        </a>
      </div>

    </div>

  </ion-content>
</ion-view>