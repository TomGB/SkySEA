<ion-view view-title="Checkout">
  <ion-content>
    <div class="list">
      <h4 class="text-center">
        Total: {{getTotal() | currency:"Â£"}}
      </h4>

      <label class="item item-input item-select">
        <div class="input-label">
          Pay by
        </div>

        <select ng-options="item for item in options" ng-model="selectedPayment"></select>
      </label>

    </div>

    <form name="checkout" ng-submit="submit(checkout.$valid)" novalidate>
      <div ng-if="selectedPayment == options[0]"> <!-- Card -->
        <div class="list">
          <label class="item item-input">
            <span class="input-label">Card Number</span>
            <input type="text" ng-model="card.number" required pattern="^\d{12,}"/>
          </label>
          <label class="item item-input">
            <span class="input-label">Expiry Date</span>
            <input type="month" ng-model="card.expiryDate" required min="2016-07"/>
          </label>
          <label class="item item-input">
            <span class="input-label">Security Code</span>
            <input type="text" ng-model="card.cvv" required pattern="^\d{3}$"/>
          </label>
        </div>
      </div>

      <div ng-if="selectedPayment == options[1]"> <!-- Product Owner -->
        <div class="list">
          <label class="item item-input">
            <span class="input-label">Product Order Number</span>
            <input type="text" ng-model="po.number" required />
          </label>
        </div>
      </div>

      <button type="submit" class="button button-positive button-full" ng-click="submit()" ng-disabled="checkout.$invalid">
        Submit Payment
      </button>
    </form>

  </ion-content>
</ion-view>